var App=App||{};App.Analytics=function(a,b){var c=$(a),d=$(b.body),e={click:{id_of_some_object:{trackFunction:function(a){f.customEventTrack(["param1","param2","param3"])}}}},f={init:function(b,c){if(b===undefined)return;a._gaq=a._gaq||[],a._gaq.push(["_setAccount",b]),f.pageTrack(c),f.delegateEvents(e),f.bindCustomEvents(),log("Analytics : Initialized")},bindCustomEvents:function(){App.bind("customEvent",function(a){f.pageTrack(a)})},pageTrack:function(b){if(!b)return;a._gaq.push(["_trackPageview",b])},customEventTrack:function(b){a._gaq.push(["_trackEvent",b[0],b[1],b[2]])},socialTrackFacebook:function(){FB.Event.subscribe("edge.create",function(b){if(_gaq==="undefined")return;a._gaq.push(["_trackSocial","facebook","like",b])}),FB.Event.subscribe("edge.remove",function(b){if(_gaq==="undefined")return;a._gaq.push(["_trackSocial","facebook","unlike",b])})},socialTrackTwitter:function(){function b(a,b){if(!a)return;var a=a.split("#")[0],c=a.split("?");if(c.length==1)return;var d=decodeURI(c[1]);b+="=";var e=d.split("&");for(var f=0,g;g=e[f];++f)if(g.indexOf(b)===0)return unescape(g.split("=")[1])}twttr.events.bind("tweet",function(c){if(c){var d;c.target&&c.target.nodeName=="IFRAME"&&(d=b(c.target.src,"url")),a._gaq.push(["_trackSocial","twitter","tweet",d])}})},delegateEvents:function(b){var c=[];for(var e in b)b.hasOwnProperty(e)&&c.push(e);d.on(c.join(" ").toString(),"div, object, span, p, a, form, input, li, img",function(c,d){var e=c.namespace?c.type+"."+c.namespace:c.type,f=c.currentTarget,g=d||f.getAttribute("data-track")||f.id;if(typeof b=="undefined"||typeof b[e]=="undefined"||typeof b[e][g]=="undefined")return;var h=b[e][g];if(h){var i=h.trackFunction;if(typeof i=="function")switch(g){default:i.apply(a,[c])}}})}};return f}(this,this.document);var App=App||{};_.extend(App,Backbone.Events),App.Global=function(a,b){App.$window=$(a),App.$html=$(b.documentElement).removeClass("nojs"),App.$body=$(b.body);var c={init:function(a){App.config=new AppConfig(a),App.appRouter=new AppRouter,Backbone.history.start(),log("Global : Initialized")}};return c}(this,this.document);var App=App||{};App.Utilities=function(a,b){var c={supportsCanvas:function(){var a=b.createElement("canvas");return a.getContext?!0:!1},supportsPlaceholder:function(){var a=b.createElement("input");return"placeholder"in a?!0:!1},setInputPlaceholder:function(a,b){var c=$("#"+a),d=b;c.val(d).addClass("placeholder").focus(function(){c.val()===d&&c.val("").removeClass("placeholder")}).blur(function(){c.val()===""&&c.val(d).addClass("placeholder")})},supportsCss3:function(a){var c=b.body||b.documentElement,d=c.style;if(typeof d=="undefined")return!1;if(typeof d[a]=="string")return!0;var e=["Moz","Webkit","Khtml","O","Ms"],f=e.length,a=a.charAt(0).toUpperCase()+a.substr(1);while(f--)if(typeof d[e[f]+a]=="string")return!0;return!1},isIpad:function(){return navigator.userAgent.match(/iPad/i)===null?!1:!0},preventXSS:function(a){return a.toString().replace(/\<|\>/g,"")},setupCustomSelect:function(){$(".input_select.custom").each(function(){var a=$(this),b='<span class="selected" /><span class="cap_right"><span class="arrow">&nbsp;</span></span>';a.find("select").wrap("<span />").before(b).bind("change",function(){a.find(".selected").text($.text(a.find(":selected")))}),a.find(".selected").text($.text(a.find(":selected"))),a.find("select").focus(function(){a.addClass("active")}).blur(function(){a.removeClass("active")})})},polyfillLocalStorage:function(){(typeof a.localStorage=="undefined"||typeof a.sessionStorage=="undefined")&&function(){var c=function(c){function d(a,c,d){var e,f;d?(e=new Date,e.setTime(e.getTime()+d*24*60*60*1e3),f="; expires="+e.toGMTString()):f="",b.cookie=a+"="+c+f+"; path=/"}function e(a){var c=a+"=",d=b.cookie.split(";"),e,f;for(e=0;e<d.length;e++){f=d[e];while(f.charAt(0)==" ")f=f.substring(1,f.length);if(f.indexOf(c)==0)return f.substring(c.length,f.length)}return null}function f(b){b=JSON.stringify(b),c=="session"?a.name=b:d("localStorage",b,365)}function g(){c=="session"?a.name="":d("localStorage","",365)}function h(){var b=c=="session"?a.name:e("localStorage");return b?JSON.parse(b):{}}var i=h();return{length:0,clear:function(){i={},this.length=0,g()},getItem:function(a){return i[a]===undefined?null:i[a]},key:function(a){var b=0;for(var c in i){if(b==a)return c;b++}return null},removeItem:function(a){delete i[a],this.length--,f(i)},setItem:function(a,b){i[a]=b+"",this.length++,f(i)}}};typeof a.localStorage=="undefined"&&(a.localStorage=new c("local")),typeof a.sessionStorage=="undefined"&&(a.sessionStorage=new c("session"))}()}};return c}(this,this.document),window.log=function(){window.isDebugMode?(log.history=log.history||[],log.history.push(arguments),this.console&&console.log(Array.prototype.slice.call(arguments)),typeof App!="undefined"&&typeof App.trigger=="function"&&App.trigger("log",arguments)):(log.history=log.history||[],log.history.push(arguments))},$(document).ready(function(){window.isDebugMode||$(document).keyup(function(a){if(a.keyCode===192||a.keyCode===19)if(window.console){log.history=log.history||[];for(var b=0,c=log.history.length;b<c;b++)console.log(Array.prototype.slice.call(log.history[b]))}log.history=[]})});var AppConfig=Backbone.Model.extend({defaults:{},initialize:function(a){_.extend(this.defaults,a)},propertyAsBool:function(a){if(!this.get(a))return;switch(this.get(a).toString().toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1}}}),ItemCollection=Backbone.Collection.extend({model:ItemModel,initialize:function(){log("Backbone : ItemCollection : Initialized")}}),ItemModel=Backbone.Model.extend({defaults:{},initialize:function(){}}),AppRouter=Backbone.Router.extend({initialize:function(){log("Backbone : AppRouter : Initialized")},routes:{"":"index"},index:function(){}}),IndexView=Backbone.View.extend({events:{},initialize:function(a){_.bindAll(this),this.render(),log("Backbone : IndexView : Initialized")},render:function(){var a=this,b=_.template($("#example_backbone_template").text(),{});a.$el.html(b)}});